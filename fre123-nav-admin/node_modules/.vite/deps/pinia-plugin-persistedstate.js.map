{
  "version": 3,
  "sources": ["../../pinia-plugin-persistedstate/dist/index.mjs", "dep:pinia-plugin-persistedstate"],
  "sourcesContent": ["// src/normalize.ts\nfunction isObject(v) {\n  return typeof v === \"object\" && v !== null;\n}\nfunction normalizeOptions(options, globalOptions) {\n  options = isObject(options) ? options : /* @__PURE__ */ Object.create(null);\n  return new Proxy(options, {\n    get(target, key, receiver) {\n      return Reflect.get(target, key, receiver) || Reflect.get(globalOptions, key, receiver);\n    }\n  });\n}\n\n// src/pick.ts\nfunction get(state, path) {\n  return path.reduce((obj, p) => {\n    return obj == null ? void 0 : obj[p];\n  }, state);\n}\nfunction set(state, path, val) {\n  return path.slice(0, -1).reduce((obj, p) => {\n    if (!/^(__proto__)$/.test(p))\n      return obj[p] = obj[p] || {};\n    else\n      return {};\n  }, state)[path[path.length - 1]] = val, state;\n}\nfunction pick(baseState, paths) {\n  return paths.reduce((substate, path) => {\n    const pathArray = path.split(\".\");\n    return set(substate, pathArray, get(baseState, pathArray));\n  }, {});\n}\n\n// src/plugin.ts\nfunction createPersistedState(factoryOptions = {}) {\n  return function(context) {\n    const {\n      options: { persist },\n      store\n    } = context;\n    if (!persist)\n      return;\n    const {\n      storage = localStorage,\n      beforeRestore = null,\n      afterRestore = null,\n      serializer = {\n        serialize: JSON.stringify,\n        deserialize: JSON.parse\n      },\n      key = store.$id,\n      paths = null\n    } = normalizeOptions(persist, factoryOptions);\n    beforeRestore == null ? void 0 : beforeRestore(context);\n    try {\n      const fromStorage = storage.getItem(key);\n      if (fromStorage)\n        store.$patch(serializer.deserialize(fromStorage));\n    } catch (_error) {\n    }\n    afterRestore == null ? void 0 : afterRestore(context);\n    store.$subscribe((_mutation, state) => {\n      try {\n        const toStore = Array.isArray(paths) ? pick(state, paths) : state;\n        storage.setItem(key, serializer.serialize(toStore));\n      } catch (_error) {\n      }\n    }, { detached: true });\n  };\n}\nfunction createNuxtPersistedState(useCookie, factoryOptions) {\n  return createPersistedState({\n    storage: {\n      getItem: (key) => {\n        return useCookie(key, {\n          encode: encodeURIComponent,\n          decode: decodeURIComponent,\n          ...factoryOptions == null ? void 0 : factoryOptions.cookieOptions\n        }).value;\n      },\n      setItem: (key, value) => {\n        useCookie(key, {\n          encode: encodeURIComponent,\n          decode: decodeURIComponent,\n          ...factoryOptions == null ? void 0 : factoryOptions.cookieOptions\n        }).value = value;\n      }\n    },\n    ...factoryOptions\n  });\n}\nvar persistedState = createPersistedState();\nexport {\n  createNuxtPersistedState,\n  createPersistedState,\n  persistedState as default\n};\n", "import d from \"./node_modules/pinia-plugin-persistedstate/dist/index.mjs\";export default d;\nexport * from \"./node_modules/pinia-plugin-persistedstate/dist/index.mjs\""],
  "mappings": ";;;AACA,SAAS,SAAS,GAAG;AACnB,SAAO,OAAO,MAAM,YAAY,MAAM;AACxC;AACA,SAAS,iBAAiB,SAAS,eAAe;AAChD,YAAU,SAAS,OAAO,IAAI,UAA0B,uBAAO,OAAO,IAAI;AAC1E,SAAO,IAAI,MAAM,SAAS;AAAA,IACxB,IAAI,QAAQ,KAAK,UAAU;AACzB,aAAO,QAAQ,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,eAAe,KAAK,QAAQ;AAAA,IACvF;AAAA,EACF,CAAC;AACH;AAGA,SAAS,IAAI,OAAO,MAAM;AACxB,SAAO,KAAK,OAAO,CAAC,KAAK,MAAM;AAC7B,WAAO,OAAO,OAAO,SAAS,IAAI;AAAA,EACpC,GAAG,KAAK;AACV;AACA,SAAS,IAAI,OAAO,MAAM,KAAK;AAC7B,SAAO,KAAK,MAAM,GAAG,EAAE,EAAE,OAAO,CAAC,KAAK,MAAM;AAC1C,QAAI,CAAC,gBAAgB,KAAK,CAAC;AACzB,aAAO,IAAI,KAAK,IAAI,MAAM,CAAC;AAAA;AAE3B,aAAO,CAAC;AAAA,EACZ,GAAG,KAAK,EAAE,KAAK,KAAK,SAAS,MAAM,KAAK;AAC1C;AACA,SAAS,KAAK,WAAW,OAAO;AAC9B,SAAO,MAAM,OAAO,CAAC,UAAU,SAAS;AACtC,UAAM,YAAY,KAAK,MAAM,GAAG;AAChC,WAAO,IAAI,UAAU,WAAW,IAAI,WAAW,SAAS,CAAC;AAAA,EAC3D,GAAG,CAAC,CAAC;AACP;AAGA,SAAS,qBAAqB,iBAAiB,CAAC,GAAG;AACjD,SAAO,SAAS,SAAS;AACvB,UAAM;AAAA,MACJ,SAAS,EAAE,QAAQ;AAAA,MACnB;AAAA,IACF,IAAI;AACJ,QAAI,CAAC;AACH;AACF,UAAM;AAAA,MACJ,UAAU;AAAA,MACV,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,aAAa;AAAA,QACX,WAAW,KAAK;AAAA,QAChB,aAAa,KAAK;AAAA,MACpB;AAAA,MACA,MAAM,MAAM;AAAA,MACZ,QAAQ;AAAA,IACV,IAAI,iBAAiB,SAAS,cAAc;AAC5C,qBAAiB,OAAO,SAAS,cAAc,OAAO;AACtD,QAAI;AACF,YAAM,cAAc,QAAQ,QAAQ,GAAG;AACvC,UAAI;AACF,cAAM,OAAO,WAAW,YAAY,WAAW,CAAC;AAAA,IACpD,SAAS,QAAP;AAAA,IACF;AACA,oBAAgB,OAAO,SAAS,aAAa,OAAO;AACpD,UAAM,WAAW,CAAC,WAAW,UAAU;AACrC,UAAI;AACF,cAAM,UAAU,MAAM,QAAQ,KAAK,IAAI,KAAK,OAAO,KAAK,IAAI;AAC5D,gBAAQ,QAAQ,KAAK,WAAW,UAAU,OAAO,CAAC;AAAA,MACpD,SAAS,QAAP;AAAA,MACF;AAAA,IACF,GAAG,EAAE,UAAU,KAAK,CAAC;AAAA,EACvB;AACF;AACA,SAAS,yBAAyB,WAAW,gBAAgB;AAC3D,SAAO,qBAAqB;AAAA,IAC1B,SAAS;AAAA,MACP,SAAS,CAAC,QAAQ;AAChB,eAAO,UAAU,KAAK;AAAA,UACpB,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,GAAG,kBAAkB,OAAO,SAAS,eAAe;AAAA,QACtD,CAAC,EAAE;AAAA,MACL;AAAA,MACA,SAAS,CAAC,KAAK,UAAU;AACvB,kBAAU,KAAK;AAAA,UACb,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,GAAG,kBAAkB,OAAO,SAAS,eAAe;AAAA,QACtD,CAAC,EAAE,QAAQ;AAAA,MACb;AAAA,IACF;AAAA,IACA,GAAG;AAAA,EACL,CAAC;AACH;AACA,IAAI,iBAAiB,qBAAqB;;;AC5FgC,IAAO,sCAAQ;",
  "names": []
}
